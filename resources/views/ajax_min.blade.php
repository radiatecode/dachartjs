/*!
* Ajax Chart
*/
function dataLoad(e,t,a=null,n=null){if(makeRequest(e,t,n),a){var r=document.getElementById(a);if(null==a)return alert(a+" id is not found!"),!1;r.addEventListener("click",function(){makeRequest(e,t,n)})}return!0}function makeRequest(e,t,a=null){var n=t.url,r=void 0===t.type?"GET":t.type,s=void 0===t.headers?{}:t.headers,o=generateUrlParams(a),u=new XMLHttpRequest;if(!u)return alert("Giving up :( Cannot create an AJAX instance"),!1;"get"===r.toLowerCase()&&(n=detectQueryString(n)?n+"&"+o:n+"?"+o);if(u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE)if(200===u.status){var t=JSON.parse(u.responseText);chartRefresh(e,t)}else alert("There was a problem with the request."),console.log(u)},u.open(r,n),0!==s.length)for(var l in s)u.setRequestHeader(l,s[l]);return"post"===r.toLowerCase()?(u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o=generateUrlParams(a),u.send(o),!0):(u.send(),!0)}function chartRefresh(e,t){void 0!==t.datasets&&(e.data.datasets=t.datasets),void 0!==t.labels&&(e.data.labels=t.labels),e.update()}function generateUrlParams(e){var t=[];for(var a in e){var n=document.getElementById(e[a]);null==n?console.error(e[a]+" id is not found!"):t.push(e[a]+"="+n.value)}return t.join("&")}function detectQueryString(e){return new RegExp(/\?.+=.*/g).test(e)}